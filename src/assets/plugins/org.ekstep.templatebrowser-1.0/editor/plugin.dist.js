org.ekstep.pluginframework.pluginManager.registerPlugin({"id":"org.ekstep.templatebrowser","ver":"1.0","shortId":"templatebrowser","author":"Sunil A S","title":"Activity Browser","description":"","publishedDate":"","editor":{"main":"editor/plugin.js","menu":[{"id":"templatebrowser","category":"main","type":"icon","toolTip":"Add Activity","title":"Activity","iconClass":"icon-activity icon","onclick":{"id":"org.ekstep.templatebrowser:show"}}]}},"use strict";org.ekstep.contenteditor.basePlugin.extend({callback:void 0,initialize:function(){ecEditor.addEventListener(this.manifest.id+":show",this.initPreview,this),setTimeout(function(){var e=org.ekstep.contenteditor.config.pluginRepo+"/org.ekstep.templatebrowser-1.0/editor/templateBrowser.html",t=org.ekstep.contenteditor.config.pluginRepo+"/org.ekstep.templatebrowser-1.0/editor/templatebrowserapp.js";ecEditor.getService("popup").loadNgModules(e,t)},1e3)},initPreview:function(e,t){var o=this;o.callback=t,ecEditor.getService("popup").open({template:"partials_org.ekstep.templatebrowser.html",controller:"templatebrowser",controllerAs:"$ctrl",resolve:{instance:function(){return o}},showClose:!1,closeByEscape:!1,closeByDocument:!1,width:900,className:"ngdialog-theme-plain"})},getTemplates:function(e,t){var o=new org.ekstep.contenteditor.iService,i={request:{filters:{objectType:["AssessmentItem"]}}},r={headers:{"Content-Type":"application/json","user-id":"ATTool"}};_.isUndefined(e)||(i.request.filters.name=[e]),o.http.post(org.ekstep.contenteditor.config.baseURL+"/api/search/v2/search",i,r,t)}}))