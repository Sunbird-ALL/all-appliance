org.ekstep.pluginframework.pluginManager.registerPlugin({"id":"org.ekstep.questionset.preview","ver":"1.1","shortId":"qs","author":"Rajeev Sathish, Rahul Shukla","title":"Question Set Preview Plugin","description":"Plugin to create the preview content for question set","publishedDate":"","editor":{"main":"editor/plugin.js"}},org.ekstep.questionsetPreview={},org.ekstep.questionsetPreview.EditorPlugin=org.ekstep.contenteditor.basePlugin.extend({type:"org.ekstep.questionset.preview",initialize:function(){},newInstance:function(){},getQuestionPreviwContent:function(e){var i={theme:{id:"theme",manifest:{media:[]},"plugin-manifest":{},stage:[{h:100,id:"splash","org.ekstep.questionset":{h:85,w:80,x:9,y:6},w:100,x:0,y:0}],startStage:"splash",ver:.3}},e=this.getQuestionList(e["org.ekstep.question"]),t={},n=JSON.stringify(e["org.ekstep.question"]);return _.isEmpty(n.match(/data-math/g))&&_.isEmpty(n.match(/math-text/g))||(t["org.ekstep.mathfunction"]="org.ekstep.mathfunction",i.theme.manifest.media=[{id:"org.ekstep.mathfunction.renderer.katex_min_js",plugin:"org.ekstep.mathfunction",src:"/content-plugins/org.ekstep.mathfunction-1.0/renderer/libs/katex/katex.min.js",type:"js"},{id:"org.ekstep.mathfunction.renderer.katex_min_css",plugin:"org.ekstep.mathfunction",src:"/content-plugins/org.ekstep.mathfunction-1.0/renderer/libs/katex/katex.min.css",type:"css"},{id:"org.ekstep.mathfunction.renderer.katex_main_bold",plugin:"org.ekstep.mathfunction",src:"/content-plugins/org.ekstep.mathfunction-1.0/renderer/libs/katex/fonts/katex_main-bold.ttf",type:"js"},{id:"org.ekstep.mathfunction.renderer.katex_main_bolditalic",plugin:"org.ekstep.mathfunction",src:"/content-plugins/org.ekstep.mathfunction-1.0/renderer/libs/katex/fonts/katex_main-bolditalic.ttf",type:"js"},{id:"org.ekstep.mathfunction.renderer.katex_main_italic",plugin:"org.ekstep.mathfunction",src:"/content-plugins/org.ekstep.mathfunction-1.0/renderer/libs/katex/fonts/katex_main-italic.ttf",type:"js"},{id:"org.ekstep.mathfunction.renderer.katex_main_regular",plugin:"org.ekstep.mathfunction",src:"/content-plugins/org.ekstep.mathfunction-1.0/renderer/libs/katex/fonts/katex_main-regular.ttf",type:"js"},{id:"org.ekstep.mathfunction.renderer.katex_math_bolditalic",plugin:"org.ekstep.mathfunction",src:"/content-plugins/org.ekstep.mathfunction-1.0/renderer/libs/katex/fonts/katex_math-bolditalic.ttf",type:"js"},{id:"org.ekstep.mathfunction.renderer.katex_math_italic",plugin:"org.ekstep.mathfunction",src:"/content-plugins/org.ekstep.mathfunction-1.0/renderer/libs/katex/fonts/katex_math-italic.ttf",type:"js"},{id:"org.ekstep.mathfunction.renderer.katex_math_regular",plugin:"org.ekstep.mathfunction",src:"/content-plugins/org.ekstep.mathfunction-1.0/renderer/libs/katex/fonts/katex_math-regular.ttf",type:"js"},{id:"org.ekstep.mathfunction.renderer.katex_size1_regular",plugin:"org.ekstep.mathfunction",src:"/content-plugins/org.ekstep.mathfunction-1.0/renderer/libs/katex/fonts/katex_size1-regular.ttf",type:"js"},{id:"org.ekstep.mathfunction.renderer.katex_size2_regular",plugin:"org.ekstep.mathfunction",src:"/content-plugins/org.ekstep.mathfunction-1.0/renderer/libs/katex/fonts/katex_size2-regular.ttf",type:"js"},{id:"org.ekstep.mathfunction.renderer.katex_size3_regular",plugin:"org.ekstep.mathfunction",src:"/content-plugins/org.ekstep.mathfunction-1.0/renderer/libs/katex/fonts/katex_size3-regular.ttf",type:"js"},{id:"org.ekstep.mathfunction.renderer.katex_size4_regular",plugin:"org.ekstep.mathfunction",src:"/content-plugins/org.ekstep.mathfunction-1.0/renderer/libs/katex/fonts/katex_size4-regular.ttf",type:"js"}]),_.each(e["org.ekstep.question"],function(e,t){var n;_.has(e.data,"__cdata")&&(n=JSON.parse(e.data.__cdata)),_.has(n,"mediamanifest")&&(e=n.mediamanifest.media,_.isArray(e))&&_.each(e,function(e,t){i.theme.manifest.media.push(e)})}),i.theme.stage[0]["org.ekstep.questionset"].isQuestionPreview=!0,i.theme.stage[0]["org.ekstep.questionset"]["org.ekstep.question"]=e["org.ekstep.question"],n=_.uniqBy(e.media),e=_.uniqBy(e.pluginIds),_.forEach(e,function(e){t[e]=e}),t["org.ekstep.questionset"]="org.ekstep.questionset",ManifestGenerator.generate(t),e=_.uniqBy(ManifestGenerator.getMediaManifest()),0<n.length&&i.theme.manifest.media.concat(n),0<e.length&&i.theme.manifest.media.concat(e),i.theme["plugin-manifest"].plugin=ManifestGenerator.getPluginManifest(),i},getQuestionList:function(e){var n={"org.ekstep.question":[],media:[],pluginIds:[]};return e.forEach(function(e){var t={id:e.id,pluginId:e.pluginId,pluginVer:e.pluginVer,templateId:e.templateId,data:e.data,config:e.config,w:"80",x:"9",h:"85",y:"6"};n.pluginIds.push(e.pluginId),e.media&&n.media.push(e.media),n["org.ekstep.question"].push(t)}),n.pluginIds.push("org.ekstep.navigation"),n}}))