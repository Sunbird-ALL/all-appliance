org.ekstep.pluginframework.pluginManager.registerPlugin({"id":"org.ekstep.hotspot","ver":"1.0","shortId":"hotspot","displayName":"Hotspot","author":"Santhosh Vasabhaktula","title":"Hotspot Plugin","description":"","publishedDate":"","editor":{"main":"editor/plugin.js","dependencies":[],"menu":[{"id":"hotspot","category":"main","type":"icon","toolTip":"Add Hotspot","title":"Hotspot","iconClass":"icon-hotspot icon","onclick":{"id":"org.ekstep.hotspot:create","data":{"type":"roundrect","y":20,"x":20,"fill":"rgb(255,0,0)","w":15,"h":25,"opacity":0.3,"stroke":"rgba(255, 255, 255, 0)","strokeWidth":1}}}],"behaviour":{"rotatable":true},"configManifest":[{"propertyName":"color","title":"Fill color","description":"Choose a color from the color picker","dataType":"colorpicker","required":true,"defaultValue":"rgb(255,0,0)"}],"help":{"src":"editor/help.md","dataType":"text"}},"initdata":{"props":{"y":20,"x":20}}},org.ekstep.contenteditor.basePlugin.extend({type:"hotspot",initialize:function(){},newInstance:function(){this.attributes.opacity=ecEditor._.isUndefined(this.attributes.opacity)?.4:this.attributes.opacity;var t=this.convertToFabric(this.attributes);"roundrect"===this.attributes.type&&(this.editorObj=new fabric.Rect(t))},onRemove:function(t){},updateAttributes:function(){var e=this;this&&(ecEditor._.forEach({"stroke-width":"stroke-width",scaleX:"scaleX",scaleY:"scaleY"},function(t,i){e.attributes[i]=e.editorObj.get(t)}),this.attributes.radius=this.editorObj.rx)},onConfigChange:function(t,i){"color"===t&&(this.editorObj.setFill(i),this.attributes.fill=i),ecEditor.render(),ecEditor.dispatchEvent("object:modified",{target:ecEditor.getEditorObject()})},getConfig:function(){var t=this._super();return t.opacity=100*this.attributes.opacity,t.color=this.attributes.fill,t}}))